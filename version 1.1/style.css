/*
 * ========================================
 * A S T O N I S H I N G - UI (v2)
 *
 * Strategy:
 * 1. Phi (Golden Ratio) for spacing & typography.
 * 2. Glassmorphism for a modern, "mesmerizing" feel.
 * 3. Vibrant, professional color palette.
 * 4. Soft shadows & smooth transitions.
 * ========================================
 */

/* ------------------------- */
/* --- 1. Root & Globals --- */
/* ------------------------- */

:root {
  /* Phi (Golden Ratio) ~ 1.618 */
  --phi: 1.618;

  /* Base Unit */
  --base-unit: 1rem; /* 16px */

  /* Golden Ratio Spacing */
  --space-xs: calc(var(--base-unit) * 0.382); /* ~6px */
  --space-sm: calc(var(--base-unit) * 0.618); /* ~10px */
  --space-md: var(--base-unit); /* 16px */
  --space-lg: calc(var(--base-unit) * var(--phi)); /* ~26px */
  --space-xl: calc(var(--base-unit) * 2.618); /* ~42px */

  /* Golden Ratio Typography */
  --font-sm: calc(var(--base-unit) * 0.8); /* 12.8px */
  --font-base: var(--base-unit); /* 16px */
  --font-h3: var(--font-base); /* 16px (will be bolded) */
  --font-h2: calc(var(--font-base) * var(--phi)); /* ~26px */
  --font-h1: calc(var(--font-h2) * var(--phi)); /* ~42px */

  /* Colors */
  --color-primary: #007aff;
  --color-primary-dark: #0056b3;
  --color-secondary: #34c759;
  --color-bg-light: #f8f9fa;
  --color-bg-dark: #1d2b3a;
  --color-text: #2c3e50;
  --color-text-light: #576c81;
  --color-border: #e0e6ed;
  --color-glass: rgba(255, 255, 255, 0.6);
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-success: #0a4400;
  --color-danger: #c9302c;
  --color-danger-light: #d9534f;
  --color-warning: #f0ad4e;
  --color-warning-dark: #ec971f;
  --color-gray: #777;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Helvetica, Arial, sans-serif;
  margin: 0;
  padding: var(--space-xl);
  color: var(--color-text);
  line-height: 1.6;
  background: linear-gradient(
    135deg,
    #e0c3fc 0%,
    #8ec5fc 50%,
    #e0c3fc 100%
  );
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* ------------------------- */
/* --- 2. Main Container --- */
/* ------------------------- */

.container {
  max-width: 900px;
  margin: 0 auto;
  background: var(--color-glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: var(--space-xl);
  box-shadow: 0 10px 30px var(--color-shadow);
}

/* ------------------------- */
/* --- 3. Typography ------- */
/* ------------------------- */

h1,
h2,
h3 {
  margin-top: 0;
  margin-bottom: var(--space-md);
  font-weight: 600;
  line-height: 1.2;
}

h1 {
  font-size: var(--font-h1);
  color: var(--color-bg-dark);
  text-align: center;
  margin-bottom: var(--space-lg);
}

h2 {
  font-size: var(--font-h2);
  color: var(--color-primary);
  text-align: left;
  padding-bottom: var(--space-sm);
  border-bottom: 2px solid var(--color-border);
  margin-bottom: var(--space-lg);
}

h3 {
  font-size: var(--font-h3);
  font-weight: 700;
  color: var(--color-bg-dark);
}

/* ------------------------- */
/* --- 4. Sections --------- */
/* ------------------------- */

.input-section,
.param-section,
.ad-list-section,
.output-section {
  margin-bottom: var(--space-xl);
}
.param-section {
  margin-bottom: var(--space-xl);
}

/* ------------------------- */
/* --- 5. Forms & Inputs --- */
/* ------------------------- */

form,
.param-section {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  align-items: center;
}

.param-section {
  justify-content: flex-start;
}

.param-section label,
.param-section input[type="number"],
.param-section button {
  flex-grow: 0;
}

.param-section input[type="number"] {
  width: 120px;
}

input[type="text"],
input[type="number"],
select {
  font-family: inherit;
  font-size: var(--font-base);
  padding: var(--space-sm) var(--space-md);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  background: #fff;
  flex-grow: 1;
  min-width: 120px;
  transition: all 0.3s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

input[type="text"]:focus,
input[type="number"]:focus,
select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2);
}

select {
  background-image: url('data:image/svg+xml;utf8,<svg fill="%232c3e50" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
  background-repeat: no-repeat;
  background-position: right var(--space-md) center;
  background-size: 1.5em;
  padding-right: calc(var(--space-md) * 3);
}

select:required:invalid {
  color: var(--color-text-light);
}

option[value=""][disabled] {
  display: none;
}

option {
  color: var(--color-text);
}

/* NEW: Button group in form */
.button-group {
  display: flex;
  gap: var(--space-sm);
  width: 100%;
}

.button-group button {
  flex-grow: 1;
}

/* ------------------------- */
/* --- 6. Buttons ---------- */
/* ------------------------- */

button {
  font-family: inherit;
  font-size: var(--font-base);
  font-weight: 600;
  padding: var(--space-sm) var(--space-lg);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: linear-gradient(
    135deg,
    var(--color-primary),
    var(--color-primary-dark)
  );
  color: #fff;
  box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
}

button:active {
  transform: translateY(0);
  box-shadow: 0 2px 10px rgba(0, 122, 255, 0.3);
}

#runScheduler {
  background: linear-gradient(135deg, var(--color-secondary), #28a745);
  box-shadow: 0 4px 15px rgba(52, 199, 89, 0.3);
}

#runScheduler:hover {
  box-shadow: 0 6px 20px rgba(52, 199, 89, 0.4);
}

#runScheduler:active {
  box-shadow: 0 2px 10px rgba(52, 199, 89, 0.3);
}

.ad-list-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-lg);
}

.ad-list-header h2 {
  margin-bottom: 0;
}

button.clear-btn {
  background: linear-gradient(135deg, var(--color-danger-light), var(--color-danger));
  font-size: var(--font-sm);
  font-weight: 500;
  padding: var(--space-xs) var(--space-md);
  box-shadow: 0 2px 10px rgba(217, 83, 79, 0.3);
}

button.clear-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(217, 83, 79, 0.4);
}

/* NEW: Cancel Edit Button */
button.cancel-btn {
  background: linear-gradient(135deg, var(--color-gray), #555);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}
button.cancel-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

/* NEW: Utility to hide elements */
.hidden {
  display: none;
}

/* ------------------------- */
/* --- 7. Table ------------ */
/* ------------------------- */

table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin-top: var(--space-md);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px var(--color-shadow);
}

th,
td {
  padding: var(--space-md);
  text-align: left;
}

th {
  background: var(--color-bg-dark);
  color: #fff;
  font-weight: 600;
  text-transform: uppercase;
  font-size: var(--font-sm);
  letter-spacing: 0.5px;
}

tbody tr {
  background: #fff;
  border-bottom: 1px solid var(--color-border);
  transition: background-color 0.2s ease;
}

tbody tr:last-child {
  border-bottom: none;
}

tbody tr:hover {
  background-color: var(--color-bg-light);
}

/* Center-align numeric and action columns */
td:nth-child(3),
th:nth-child(3),
td:nth-child(4),
th:nth-child(4),
td:nth-child(5),
th:nth-child(5),
td:nth-child(6), /* NEW: Actions column */
th:nth-child(6) { /* NEW: Actions column */
  text-align: center;
}

/* NEW: Action buttons in table */
.action-btn {
  font-size: var(--font-sm);
  padding: var(--space-xs) var(--space-sm);
  margin: 0 var(--space-xs);
  min-width: 80px;
}

.action-btn.edit-btn {
  background: linear-gradient(135deg, var(--color-warning), var(--color-warning-dark));
  box-shadow: 0 2px 8px rgba(240, 173, 78, 0.3);
}

.action-btn.delete-btn {
  background: linear-gradient(135deg, var(--color-danger-light), var(--color-danger));
  box-shadow: 0 2px 8px rgba(217, 83, 79, 0.3);
}

/* ------------------------- */
/* --- 8. Output Section --- */
/* ------------------------- */

.output-section {
  margin-top: var(--space-xl);
}

#scheduleOutput {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-lg);
}

.day-card {
  background: #fff;
  border-radius: 12px;
  padding: var(--space-lg);
  box-shadow: 0 4px 12px var(--color-shadow);
  border-top: 4px solid var(--color-primary);
  transition: all 0.3s ease;
}

.day-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px var(--color-shadow);
}

.day-card h3 {
  color: var(--color-primary);
  border-bottom: 1px solid var(--color-border);
  padding-bottom: var(--space-sm);
  margin-bottom: var(--space-md);
}

/* ------------------------- */
/* --- 9. Slot Output    --- */
/* ------------------------- */

.slot-item {
  background: var(--color-bg-light);
  margin-bottom: var(--space-sm);
  padding: var(--space-md);
  border-radius: 8px;
  font-size: var(--font-base);
  border-left: 4px solid var(--color-secondary);
  transition: all 0.2s ease;
}

.slot-item.empty {
  background: #fdfdfd;
  border-left-color: var(--color-border);
  color: var(--color-text-light);
}

#profitOutput {
  text-align: center;
  font-weight: 700;
  color: var(--color-success);
  font-size: var(--font-h2);
  margin-top: var(--space-xl);
  background: rgba(10, 68, 0, 0.05);
  padding: var(--space-md);
  border-radius: 12px;
  border: 1px solid rgba(10, 68, 0, 0.1);
}

/* ------------------------- */
/* --- 10. Summary Table --- */
/* ------------------------- */

#summaryOutput {
  margin-top: var(--space-xl);
}

#summaryOutput h2 {
  font-size: var(--font-h2);
  color: var(--color-primary);
  text-align: left;
  padding-bottom: var(--space-sm);
  border-bottom: 2px solid var(--color-border);
  margin-bottom: var(--space-lg);
}

#summaryOutput table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin-top: var(--space-md);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px var(--color-shadow);
}

#summaryOutput th,
#summaryOutput td {
  padding: var(--space-md);
  text-align: left;
}

#summaryOutput th {
  background: var(--color-bg-dark);
  color: #fff;
  font-weight: 600;
  text-transform: uppercase;
  font-size: var(--font-sm);
  letter-spacing: 0.5px;
}

#summaryOutput tbody tr {
  background: #fff;
  border-bottom: 1px solid var(--color-border);
  transition: background-color 0.2s ease;
}

#summaryOutput tbody tr:last-child {
  border-bottom: none;
}

#summaryOutput tbody tr:hover {
  background-color: var(--color-bg-light);
}

#summaryOutput td:nth-child(2),
#summaryOutput td:nth-child(3),
#summaryOutput th:nth-child(2),
#summaryOutput th:nth-child(3) {
  text-align: center;
}